<style>

ul {
    list-style-position: outside;
    list-style-type: disc;
    padding-top: 0px;
    padding-left: 20px;
    padding-right: 0px;
    padding-bottom: 0px;
    margin-top: -10px;
    margin-bottom: -5px;
    margin-left: 10px;
    margin-right: 10px;
}

h4 {
    margin-top: 1.33em;
    margin-bottom: 1.33em;
}

h3 {
    margin-top: 1em;
    margin-bottom: 1em;
}

h2 {
    margin-top: 0.83em;
    margin-bottom: 0.83em;
}

</style>

<h2>Version 3.3.2</h2>

<h4>Nextion Display</h4>
    <ul>
        <li>Support für Nextion TFT HMI Displays Discovery NX3224F028 und Basic NX3224T028
        <li>Bug fix für Nextion TFT HMI Displays: wenn das Kühlschrank-Symbol bzw. das Licht Icon aktiviert wird, wird das Licht für 10 Minuten eingeschaltet.</li>
        <li>Zusätzlich wurde eine Seite eingefügt, wo es möglich ist, die Sollwerte für Temperatur und Feuchte einzustellen.</li>
        <li>Auf dieser Seite kann auch der Pi-Ager gestartet und gestoppt werden.</li>
        <li>Ist der Pi-Ager offline, wird auf dem Display eine entsprechende Seite angezeigt.</li>
        <li>Wichtig:</li>
        <li>Die im Pi-Ager Image hinterlegte aktuelle Display Firmware muss nochmals geflasht werden, damit die oben aufgeführten Features funktionieren.
        Hierzu muss auf der ADMIN Seite in der Sektion 'NEXTION DISPLAY FIRMWARE' erst das angeschlossene Display Device ausgewählt und gespeichert werden. 
        Anschließend muss der Button 'Programmierung starten' aktiviert werden.</li>
    </ul>
    
<h4>Administration</h4>
    <ul>
        <li>NFS Backup wurde überarbeitet. Die einzustellenden Parameter wurden auf das unbedingt nötige Maß reduziert.
        Das Backup Log kann nun in einem Browser Tab angezeigt werden. Probleme mit dem Backup können dort analysiert werden.</li>
    </ul>
    
<h4>Logs</h4>
    <ul>
        <li>Auf der LOGS Seite wurde ein Button eingebaut, mit dem das Debug Log in einem Browser Tab angezeigt werden kann.
        </li>
    </ul>
    
<h4>Diagramme</h4>
    <ul>
        <li>Auf der Monitor Seite werden im Diagramm für Temperatur & Feuchte nur noch die Werte für die interne Temperatur und Feuchte und deren Moving Average angezeigt.</li>
    </ul>

<h4>Nachrichten</h4>
    <ul>
        <li>Die pushover Library in den letzten Versionen ist nicht kompatibel mit python3.x. Der Bug wurde gefixed.</li> 
    </ul>
    
<h4>Events</h4>
    <ul>
        <li>Überwachung der internen Temperaturmesswerte, Min- und Max-Werte können eingestellt werden und können bei Unter-bzw.-Überschreitung ein Event auslösen.</li>
        <li>Überwachung der UPS Batterie-Spannung und der Versorgungsspannung. UPS Batterie low und Powerfail können Events auslösen.</li>
        <li>Überwachung des Schalter-Eingangs. Schalter geschlossen kann ein Event auslösen.</li>
        <li>Achtung: die Überwachung der o.g. Messwerte erfolgt in einem 10s Zeitraster.
    </ul>
<hr>


<h2>Version 3.3.1</h2>
<h4>Pi-Ager allgemein</h4>
    <ul>
        <li>Support für Nextion TFT HMI Display ENHANCED NX3224K028.</li>
        <li>Diverse Bug Fixes
    </ul>
    
<hr>

<h2>Version 3.3.0</h2>
<h3>Frontend</h3>
	<h4>Pi-Ager allgemein</h4>
          <ul>
		  	<li>Alle Seiten wurden überarbeitet, sie werden jetzt merklich schnellerer aufgebaut.</li>
			<li>Neue Seiten / Funktionen für Backup und Benachrichtigung wurden hinzugefügt.</li>
			<li>Übersetzungen wurden hinzugefügt.</li>
			<li>Alle Hilfetexte wurden überarbeitet und übersetzt.</li>
          </ul>
    <h4>Monitorseite</h4>
          <ul>		
			<li>Darstellung der Sensorwerte wurde überarbeitet.</li>
			<li>Sensor extern wurde hinzugefügt. (sichtbar nur wenn er auch ausgewählt ist)</li> 
			<li>Taupunkt wurde hinzugefügt.</li> 
			<li>NTC Sensoren und Stromsensor wurde hinzugefügt.</li> 
			<li>Diagramme wurden überarbeitet.</li> 
			<li>Bei laufender Reifetabelle wird die aktuelle Phase angezeigt</li> 
			<li>Status Schalter (Digitaleingang) wurde hinzugefügt. (wird erstmal nur angezeigt)</li> 
			<li>Status 5V Spannungsversorgung wurde hinzugefügt. (wird erstmal nur angezeigt)</li> 
			<li>Status Batteriespannung USV Modul wurde hinzugefügt. (wird erstmal nur angezeigt)</li> 
          </ul>
	<h4>Diagramme</h4>
          <ul>		
			<li>In Abhängigkeit der ausgewählten Zeitspanne werden weniger Werte gelesen. Dies beschleunigt signifikant die Anzeige der Diagramme / Seite.</li> 
            <li>Es wurde ein neuer Button "custom" hinzugefügt. Es ist jetzt möglich, die Zeitspanne der Diagramme benutzerdefiniert einzustellen.</li> 
			<li>Skalierung der Y Achsen wurde überarbeitet. Es wurde eine automatische Skalierung eingebaut die auch auf die ein- bzw, ausgeblendeten Datensätze reagiert. </li> 
		  </ul>
	<h4>Reifetabelle</h4>
          <ul>
			<li>Startphase und Starttag kann jetzt ausgewählt werden und wird angezeigt.</li>
			<li>Editor: Phasen (Zeilen) können jetzt hinzugefügt und gelöscht werden</li>
          </ul>	
	<h4>Administration</h4>
          <ul>
			<li>Auswahl der Sensoren wurde überarbeitet</li>
			<li>Einstellungen für die Waagen wurden überarbeitet und die Einstellparameter reduziert.</li>
			<li>Sensoren die an dem A/D Wandler betrieben werden können, wurden implementiert. (NTC Temperatursensoren und Stromsensor)</li>
		    <li>Backup Einstellungen wurden ergänzt</li>
          </ul>	  
	<h4>Nachrichten</h4>
          <ul>
			<li>Messenger Einstellungen wurden hinzugefügt</li>
			<li>Event Einstellungen wurden hinzugefügt</li>
			<li>Alarm Einstellungen wurden hinzugefügt</li>
			<li>E-Mail Einstellungen wurden hinzugefügt</li>
		    <li>E-Mail Server Einstellungen wurden hinzugefügt</li>
			<li>Pushover Einstellungen wurden hinzugefügt</li>
			<li>Telegram Einstellungen wurden hinzugefügt</li>
          </ul>	 	 
		  
<h3>Backend</h3>
	<h4>Datenbank</h4>
	        <ul>			
		<li>Datenbank hat nun Indizies auf den Sensor Tabellen. Diagramme werden schneller angezeigt</li>
		   </ul>
	<h4>Sensoren</h4>	
           <ul>			
		<li>DHT11 wird ab dem nächsten Haupt-Release nicht mehr unterstützt, da er zu ungenaue Werte liefert.</li>
		<li>I2C: ein zusätlicher externer Sensor (SHT 3x Adr45)wird unterstützt.(Nur wenn der erste  Sensor ein SHT85 oder SHT3x mit Adr44 ist) </li>
		<li>Temperatursensoren und ein analoger Stromsensor LEM-H06P werden unterstützt.</li>
		   </ul>
	<h4>Backup</h4>	
           <ul>		
		<li>NFS-Backup Einstellungen und manueller Start wird nun über das Frontend unterstützt.</li>
		<li>Backup startet nur, wenn keine Agingtabelle aktiv ist</li>
		<li>Backup kann auch über einen CRON-Job eingeplant werden</li>
           </ul>
	<h4>Messenger</h4>	
           <ul>		
		<li>Benachrichtigung über Frontend wird unterstützt. (Messenger, Alarm, E-Mail, Pushover, Telegram)</li>
		<li>Benachrichtigung ist noch nicht überall eingebaut, wo es notwendig sein könnte. </li>
		<li>Alarme / Events sind noch nicht vollständig eingebaut. </li>		
           </ul>


<hr>
<!-------------------------------------------------------------------------------->

<h2>Version 3.2.2 Bugfix 1</h2>
<h3>Frontend</h3>
	<h4>Pi-Ager</h4>
          <ul>
			<li>Schreibfehler wurden behoben.</li>
			<li>Übersetzungen wurden aktuallisiert.</li>
          </ul>
	<h4>Licht und UV-Licht</h4>
          <ul>		
			<li>Licht und UV-Licht Status auf der Hautseite index.php zeigt nun die Werte korrekt an.</li> 
			<li>Der Status für das Licht wird nur angezeigt, wenn der Schalter auf der Web-Cam Seite an ist, da er den Timer übersteuert.</li>
			<li>Der Status für das UV-Licht wird nur angezeigt, wenn der Schalter auf der Admin Seite aus ist, da der Timer nur funkoniert, wenn der Schalter an ist.</li>
          </ul>
<h3>Backend</h3>
	<h4>Sensoren</h4>	
           <ul>			
		<li>DHT11 Fehler behoben. DHT11 wird ab dem nächsten Haupt-Release nicht mehr unterstützt, da er zu ungenaue Werte liefert.</li>
           </ul>
	<h4>Abluftlüfter</h4>	
           <ul>		
		<li>Problem mit dem Abluftlüfter. Er schaltet sich nun zuverlässig ab.</li>
           </ul>
	<h4>Messenger</h4>	
           <ul>		
		<li>Neues Paket für Pushover</li>
           </ul>


<hr>
<!-------------------------------------------------------------------------------->

<h2>Version 3.2.2</h2>
<h3>Frontend</h3>
	<h4>Pi-Ager</h4>
          <ul>
		<li>Sprachenumschaltung Deutsch und Englisch verfügbar</li>
          </ul>
	<h4>Reifetabelle</h4>
          <ul>		
		<li>Export und Upload funktioniert jetzt</li>
          </ul>
<h3>Backend</h3>
	<h4>HX711</h4>
           <ul>					
		<li>Besseres Auslesen der Sensoren mit keinen Peaks mehr.</li> 
           </ul>
	<h4>Sensoren</h4>	
           <ul>			
		<li>Neue i2c Sensoren SHT85 und SHT3x werden unterstÜtzt.</li>
		<li>SHT75, DHT22 und DHT11 überarbeitet.</li> 
		<li>Besseres Fehlerhandling</li>
           </ul>
	<h4>Backup</h4>	
           <ul>			
		<li>NFS-Backup möglich - Noch nicht im Frontend</li> 
           </ul>
	<h4>Datenbank</h4>
           <ul>				
		<li>Ist nun stabiler wegen WAL Mode</li>
           </ul>
	<h4>Abluftlüfter</h4>	
           <ul>		
		<li>Abluftlüfter reagiert nun auf den Abschaltbefehl des Timers in weiteren Modi.</li>
           </ul>
	<h4>Licht und UV-Licht</h4>
           <ul>	
		<li>Timer werden sofort aktiv, wenn Periode oder Mode geändert werden.</li>
           </ul>
	<h4>Benachrichtigung</h4>  
           <ul class="logul">		
		<li>Messenger Klassen mit Alarm, E-Mail, Telegram und Pushover verfügbar - Noch nicht im Frontend</li>
           </ul>
	<h4>Logger</h4>	
           <ul>			
		<li>Logger Klasse eingebaut</li>
           </ul>
	<h4>System</h4>	
           <ul>			
		<li>Zahlreiche Verbessungen bei Performance, Speicherauslastung und Stabilität</li> 
           </ul>

<h3>System</h3>
	<h4>PHP Version</h4>
              <ul>			
		<li>Neue PHP Version - PHP Version 7.3.11-1~deb10u1 installiert</li>
              </ul>
	<h4>Python Version</h4>	
              <ul>	
		<li>Neue Python Version - Python 3.7.3 installiert</li> 
              </ul>
	<h4>Phpliteadmin</h4>
              <ul>			
		<li>Neue Phpliteadmin Version - phpLiteAdmin v1.9.8.2 installiert</li>
              </ul>
	<h4>Raspberry</h4>
              <ul>				
		<li>Neues Raspian Release Buster - Betriebssystem ist nun Raspian Buster</li>
		<li>Mehrere Kernel updates (aktueller Kernel ist installiert)</li>
		<li>Boot Verzeichnis vergrößern - Boot Verzeichnis auf ca. 250 MB vergrößert (wegen Buster)</li>
		<li>Änderung für RPi4 Unterstützung wurden fast alle eingebaut. Außer sudowebscript wegen GPIO.</li> 
		<li>RPi4 wird noch nicht unterstützt.</li>
              </ul>
	<h4>System</h4>
              <ul>
		<li>systemd Startscript erstellt - systemctl start/stop/status... pi-ager_main.service, pi-ager_scale.service, pi-ager_agingtable</li>
              </ul>
	<h4>Image</h4>
              <ul>
		<li>Unglütige APT Pakete und Verzeichnisse entfernen beim Image erstellen</li> 
		<li>Tabellen löschen - Bewegungsdaten werden gelöscht. Bei Konfigurationstabellen werden Festwerte gesetzt.</li>
              </ul>
	<h4>Startup</h4>
              <ul>
		<li>setup.txt aus /boot/ wird nun übernommen und muss genutzt werden, da hier noch Dienste gestartet werden.</li>
              </ul> 
	<h4>Web-Cam</h4>
              <ul>
		<li>Es wird kein Video erzeugt. Nur einzelne Bilder.</li>
              </ul>
<hr>
<!-------------------------------------------------------------------------------->

<h2>Version 2.2.1</h2>

<h3>Frontend</h3>
    <h4>Überarbeitung der Icons</h4>
    <h4>UV, Licht und Entfeuchter</h4>
     <ul>
        <li>Steuerungsfeldern</li>
        <li>Graphen</li>
     </ul>
    <h4>Webcam</h4>
    <h4>Wägezellen</h4>
     <ul>
        <li>Steuerungsfeld für Offset</li>
        <li>Graphen</li>
     </ul>
    <h4>Steuerungsmöglichkeit für Entfeuchtung</h4>
     <ul>
        <li>Ohne</li>
        <li>Abluft</li>
        <li>Abluft mit Entfeuchter</li>
        <li>Entfeuchter</li>
     </ul>

<h3>Backend</h3>
    <h4>Umstellung auf Python 3</h4>
    <h4>neue Bibliothek für SHT und DHT Sensoren</h4>
    <h4>Umstellung von Apache auf Lighttpd</h4>
    <h4>Variablen Umbenennungen</h4>
    <h4>Übersetzungsunterstützung (Deutsch, Englisch)</h4>
    <h4>Logik</h4>
      <ul>
        <li>UV Lichtsteuerung</li>
        <li>Lichtsteuerung</li>
        <li>Entfeuchter-Steuerung</li>
        <li>Wägezellen</li>
        <li>Webcamsteuerung</li>
      </ul>
    <h4>Auslagern der Standardwerte in eine config.json</h4>
    <h4>Entfernen der Werte für Entfeuchtung ein/aus, Entfeuchtungsverzögerung, Kühlen an/aus, aus den csv-Dateien und auslagern in die config.json</h4>
    <h4>Verzeichnis-Strukturierung (config, logs, images/icons, images/graphs, images/webcam)</h4>
<hr>
<!-------------------------------------------------------------------------------->

<h2>Version 2.1.1</h2>

<h3>Frontend</h3>
    <h4>neues Frontend</h4>
    <h4>Logfile</h4>
    <h4>Changelog</h4>
    <h4>Sensor auswählbar</h4>
    <h4>wöchentliches Diagramm</h4>
    <h4>RaspberryPi Version in Footer</h4>
    <h4>Programmversion in Footer</h4>
    <h4>Reboot und Shutdown des Raspberry's über Settings-Seite</h4>
    <h4>Kühlung und Heizung sowie Be/Entfeuchtung im Statusboard visuell getrennt</h4>
    <h4>erlaubte Min-Max-Wertgrenzen werden bei den Einstellungen angezeigt</h4>
    <h4>settings wird über Passwort geschützt</h4>

<h3>Backend</h3>
    <h4>Umstellung von DHT22.rdd auf rss.rrd für den Plot</h4>
    <h4>Die Pythondateien liegen in /opt/RSS/</h4>
    <h4>csv-Dateien liegen in /var/www/csv/</h4>
    <h4>Verwendung von /var/sudowebscript.sh für Shell-Befehle</h4>
    <h4>Content-Reload alle 60 Sekunden bei Monitor und Diagramme</h4>
    <h4>Vorfilter für "Mülldaten" vom Sensor SHT11 und SHT22 in Rss.py</h4>
    <h4>Noob-Image (Textdatei für automatisches Setzen von Passwörtern, WiFi-Verbindung und extend Filesystem)</h4>
<hr>
<!-------------------------------------------------------------------------------->

<h2>Version 1.1.1-0</h2>
<h3>Übernahme des Systems aus dem Forum</h3>
